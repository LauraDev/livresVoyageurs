
{# This page inherits from base.html #}
{% extends 'layout.html.twig' %}

{# Define Title #}
{% block title %} Mon Espace {% endblock %}

{#  Breadcrumb trail #}
{% set active_page = 'Espace' %}


{# Define Content #}
{% block content %}

    <div class="row">

        <h1> Tableau de bord </h1>
        <h2 class="text-center">Bonjour {{ app.user.pseudo_member }}</h2>

            <div class="col-md-offset-3 col-md-6">

                <!-- Form: Add a book -->
                <h2> Ajouter un livre </h2>
                <form id="formAddBook" action="" method="POST" enctype="multipart/form-data">

                    <!-- Id Member -->
                    <input type="hidden" name="id_member" value="{{ app.user.id_member }}">
                    <!-- Id Author -->
                    <input type="hidden" name="id_author" value="{# xxxxxxxxx }} #}">
                    <!-- Id Category -->
                    <input type="hidden" name="id_category" value="{# xxxxxxxxx }} #}">
                    <!-- Title -->
                    <input type="hidden" name="title_book" value="{# xxxxxxxxx }} #}">
                    <!-- Summary -->
                    <input type="hidden" name="summary_book" value="{# xxxxxxxxx }} #}">
                    <!-- ISBN -->
                    <div class="form-group">
                        <label for="ISBN_book">Numéro inscript sur le livre: Au-dessus du code barre *</label>
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-book"></i></span>
                            <input type="text" name="ISBN_book" class="form-control" required>
                        </div>
                        <p class="error alert alert-danger">Vous n'avez pas indiqué l'ISBN</p>
                        <p class="error alert alert-danger">ISBN incorrect</p>
                    </div>
                    <!-- Photo -->
                    <div class="form-group">
                        <label for="photo_book">Image</label>
                        <div class="input-group">
                            <input type="text" name="photo_book" class="form-control">
                        </div>
                        <p class="error alert alert-danger">L'image est trop lourde</p>
                        <p class="error alert alert-danger">L'image doit être au format: jpg, jpeg ou png</p>
                    </div>
                    <!-- Submission -->
                    <div class="form-group text-center">
                        <input type="submit" name="btnSub" value="Ajouter" id="btn_memberInscription" class="btn btn-success">
                    </div>

                </form>


                <!-- Display ISBN API return -->
                <div id="bookInfos"></div>


                <!-- Form: Book I have captured -->
                <h2> Déclarer une capture </h2>
                <form id="formCapturedBook" action="" method="">

                    <!-- Id Book - Table Pointers -->
                    <div class="form-group">
                        <label for="id_book">Numéro unique inscript sur l'étiquette du livre *</label>
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-book"></i></span>
                            {{ form_row(formCapture.id_book) }}
                        </div>
                        <p class="error alert alert-danger">Vous n'avez pas indiqué le numéro unique du livre</p>
                        <p class="error alert alert-danger">Numéro incorrect - Doit contenir 8 chiffres</p>
                    </div>
                    <!-- Address - Table Pointers -->
                    <div class="form-group">
                        <label for="address">Adresse *</label>
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                            {{ form_row(formCapture.address) }}
                        </div>
                        <p class="error alert alert-danger">Vous n'avez pas indiqué votre adresse</p>
                        <p class="error alert alert-danger">Adresse incorrecte</p>
                    </div>
                    <!-- Commentaire - Table Capture -->
                    <div class="form-group">
                        <label for="comment_capture">Commentaire</label>
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-align-left"></i></span>
                            {{ form_row(formCapture.comment_capture) }}
                        </div>
                        <p class="error alert alert-danger">Vous n'avez pas indiqué votre adresse</p>
                        <p class="error alert alert-danger">Adresse incorrecte</p>
                    </div>
                    <!-- Submission -->
                    <div class="form-group text-center">
                        <input type="submit" name="btnSub" value="Entrer" id="btn_memberInscription" class="btn btn-success">
                    </div>

                </form>


                {%  if formCapture.address is defined %}
                    {{ formCapture.address }}
                {% endif %} 

                <!-- Form: Personal data management -->
                <h2> Compte </h2>

                <img src="app.user.avatar_member">
                <form id="formMemberModification" action="" method="POST" enctype="multipart/form-data">

                <!-- Pseudo -->
                <div class="form-group">
                    <label for="pseudo_member">Pseudo *</label>
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                        {{ form_row(formAccount.pseudo_member) }}
                    </div>
                    <!-- Help-text -->
                    <p id="pseudo-helptext">Votre Pseudo doit contenir au moins 6 caractères et un 1 chiffre</p>
                    <!-- Pseudo Errors -->
                    <p class="error alert alert-danger">Vous n'avez pas indiqué votre Pseudo</p>
                    <p class="error alert alert-danger">Votre Pseudo doit contenir au moins 6 caractères et un 1 chiffre</p>
                    <p class="error alert alert-danger">Ce pseudo existe déjà</p>
                </div>
                <!-- Email -->
                <div class="form-group">
                    <label for="mail_member">Email *</label>
                    <div class="input-group">
                        <div class="input-group-addon">@</div>
                        {{ form_row(formAccount.mail_member) }}
                    </div>
                    <p class="error alert alert-danger">Vous n'avez pas indiqué votre Email</p>
                    <p class="error alert alert-danger">Email Incorrect</p>
                </div>
                <!-- Password -->
                <div class="form-group">
                    <label for="pass_member">Mot de passe *</label>
                    <div class="input-group">
                        <div class="input-group-addon"><span class="ion-android-lock"></span></div>
                        {{ form_row(formAccount.pass_member) }}
                    </div>
                    <!-- Help-text -->
                    <p id="pass-helptext">Votre mot de passe doit contenir au moins 8 caractères, une majuscule et un chiffre</p>
                    <!-- Password Errors -->
                    <p class="error alert alert-danger">Vous n'avez pas indiqué votre Mot de passe</p>
                    <p class="error alert alert-danger">Mot de passe doit contenir au moins 8 caractères</p>
                    <p class="error alert alert-danger">Le mot de passe doit contenir au moins une majuscule</p>
                    <p class="error alert alert-danger">Le mot de passe doit contenir au moins un chiffre</p>
                </div>
                <!-- Picture -->
                <div class="form-group">
                    <label for="avatar_member">Avatar</label>
                    <div class="input-group">
                        {{ form_row(formAccount.avatar_member) }}
                    </div>
                    <p class="error alert alert-danger">L'image est trop lourde</p>
                    <p class="error alert alert-danger">L'image doit être au format: jpg, jpeg ou png</p>
                </div>
                    {{ form_row(formAccount.role_member) }}
                    {{ form_row(formAccount._token) }}
                <!-- Submission -->
                <div class="form-group text-center">
                    <input type="submit" name="btnSub" value="Entrer" id="btn_memberInscription" class="btn btn-success">
                </div>

            </form>



                <!-- List: Books I liberated -->
                <h2> Livres </h2>

                {{ dump(bookList) }}


                <!-- List friends / demands -->
                <h2> Amis </h2>

                {{ dump(pendingList)}}
                {{ dump(friendList) }}

    </div>

{% endblock %}
